{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Button from\"react-native-web/dist/exports/Button\";import Text from\"react-native-web/dist/exports/Text\";import{connect}from'react-redux';import{addReview,fetchReviews}from\"../../actions/reviewsActions\";import{clearErrors}from\"../../actions/errorActions\";var Form=function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(){var _this;_classCallCheck(this,Form);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",review:\"\",msg:null};_this.onTextChange=function(name){return function(value){_this.setState(_defineProperty({},name,value));};};_this.onPress=function(){var newreview={name:_this.state.name,review:_this.state.review};console.log(newreview);_this.setState({name:\"\",review:\"\"});_this.props.addReview(newreview);_this.props.clearErrors();};return _this;}_createClass(Form,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var error=this.props.error;if(error!==prevProps.error){if(error.id==='ERROR_REVIEW'){this.setState({msg:this.props.error.msg.msg});}else{this.setState({msg:null});}}}},{key:\"render\",value:function render(){return React.createElement(View,{style:styles.form},React.createElement(Text,{style:styles.err},this.state.msg),React.createElement(TextInput,{style:styles.input,placeholder:\"Name\",onChangeText:this.onTextChange(\"name\"),value:this.state.name}),React.createElement(TextInput,{style:styles.input,placeholder:\"Review (eg. Awesome 5/5)\",onChangeText:this.onTextChange(\"review\"),value:this.state.review}),React.createElement(View,{style:styles.btn},React.createElement(Button,{onPress:this.onPress,title:\"Add Review\",color:\"coral\"})));}}]);return Form;}(Component);var styles=StyleSheet.create({form:{width:\"100%\",height:150,alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"#FFECF9\"},input:{width:'70%',height:38,padding:5,borderBottomWidth:1.5,borderBottomColor:\"#ddd\",marginBottom:5},btn:{width:\"70%\",height:35,marginBottom:15,marginTop:5},err:{marginTop:8,fontSize:15,color:'red',fontWeight:'bold'}});var mapStateToProps=function mapStateToProps(state){return{reviews:state.reviews.items,error:state.error};};export default connect(mapStateToProps,{addReview:addReview,fetchReviews:fetchReviews,clearErrors:clearErrors})(Form);","map":{"version":3,"sources":["E:/react-native/client/src/components/reviews/Form.js"],"names":["React","Component","connect","addReview","fetchReviews","clearErrors","Form","state","name","review","msg","onTextChange","value","setState","onPress","newreview","console","log","props","prevProps","error","id","styles","form","err","input","btn","StyleSheet","create","width","height","alignItems","justifyContent","backgroundColor","padding","borderBottomWidth","borderBottomColor","marginBottom","marginTop","fontSize","color","fontWeight","mapStateToProps","reviews","items"],"mappings":"wkCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,mSAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,SAAT,CAAoBC,YAApB,oCACA,OAASC,WAAT,kC,GAEMC,CAAAA,I,sSAEJC,K,CAAQ,CACNC,IAAI,CAAC,EADC,CAENC,MAAM,CAAC,EAFD,CAGNC,GAAG,CAAC,IAHE,C,OAiBRC,Y,CAAe,SAACH,IAAD,QAAU,UAACI,KAAD,CAAW,CAClC,MAAKC,QAAL,oBAAiBL,IAAjB,CAAwBI,KAAxB,GAED,CAHc,E,OAIfE,O,CAAU,UAAM,CACd,GAAMC,CAAAA,SAAS,CAAG,CAChBP,IAAI,CAAC,MAAKD,KAAL,CAAWC,IADA,CAEhBC,MAAM,CAAC,MAAKF,KAAL,CAAWE,MAFF,CAAlB,CAIAO,OAAO,CAACC,GAAR,CAAYF,SAAZ,EACA,MAAKF,QAAL,CAAc,CACZL,IAAI,CAAC,EADO,CAEZC,MAAM,CAAC,EAFK,CAAd,EAKA,MAAKS,KAAL,CAAWf,SAAX,CAAqBY,SAArB,EACA,MAAKG,KAAL,CAAWb,WAAX,GAED,C,kEA7BD,4BAAmBc,SAAnB,CAA6B,IACpBC,CAAAA,KADoB,CACX,KAAKF,KADM,CACpBE,KADoB,CAE3B,GAAGA,KAAK,GAAKD,SAAS,CAACC,KAAvB,CAA6B,CAC3B,GAAGA,KAAK,CAACC,EAAN,GAAY,cAAf,CAA8B,CAC5B,KAAKR,QAAL,CAAc,CAACH,GAAG,CAAC,KAAKQ,KAAL,CAAWE,KAAX,CAAiBV,GAAjB,CAAqBA,GAA1B,CAAd,EACD,CAFD,IAEK,CACH,KAAKG,QAAL,CAAc,CAACH,GAAG,CAAC,IAAL,CAAd,EACD,CACF,CACF,C,sBAqBC,iBAAQ,CACJ,MACI,qBAAC,IAAD,EAAM,KAAK,CAAEY,MAAM,CAACC,IAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAED,MAAM,CAACE,GAApB,EAA0B,KAAKjB,KAAL,CAAWG,GAArC,CADF,CAEI,oBAAC,SAAD,EACI,KAAK,CAAEY,MAAM,CAACG,KADlB,CAEI,WAAW,CAAC,MAFhB,CAGI,YAAY,CAAE,KAAKd,YAAL,CAAkB,MAAlB,CAHlB,CAII,KAAK,CAAE,KAAKJ,KAAL,CAAWC,IAJtB,EAFJ,CASI,oBAAC,SAAD,EACI,KAAK,CAAEc,MAAM,CAACG,KADlB,CAEI,WAAW,CAAC,0BAFhB,CAGI,YAAY,CAAE,KAAKd,YAAL,CAAkB,QAAlB,CAHlB,CAII,KAAK,CAAE,KAAKJ,KAAL,CAAWE,MAJtB,EATJ,CAgBI,oBAAC,IAAD,EAAM,KAAK,CAAEa,MAAM,CAACI,GAApB,EACA,oBAAC,MAAD,EACI,OAAO,CAAE,KAAKZ,OADlB,CAEI,KAAK,CAAC,YAFV,CAGI,KAAK,CAAC,OAHV,EADA,CAhBJ,CADJ,CA0BH,C,kBAjEcb,S,EAqEnB,GAAMqB,CAAAA,MAAM,CAAGK,UAAU,CAACC,MAAX,CAAkB,CAC/BL,IAAI,CAAE,CACJM,KAAK,CAAE,MADH,CAEJC,MAAM,CAAE,GAFJ,CAGJC,UAAU,CAAE,QAHR,CAIJC,cAAc,CAAE,QAJZ,CAKJC,eAAe,CAAE,SALb,CADyB,CAS/BR,KAAK,CAAE,CACLI,KAAK,CAAE,KADF,CAELC,MAAM,CAAE,EAFH,CAGLI,OAAO,CAAE,CAHJ,CAILC,iBAAiB,CAAE,GAJd,CAKLC,iBAAiB,CAAE,MALd,CAMLC,YAAY,CAAE,CANT,CATwB,CAiB/BX,GAAG,CAAE,CACHG,KAAK,CAAE,KADJ,CAEHC,MAAM,CAAE,EAFL,CAGHO,YAAY,CAAE,EAHX,CAIHC,SAAS,CAAE,CAJR,CAjB0B,CAwB/Bd,GAAG,CAAE,CAEHc,SAAS,CAAE,CAFR,CAGHC,QAAQ,CAAE,EAHP,CAIHC,KAAK,CAAE,KAJJ,CAKHC,UAAU,CAAE,MALT,CAxB0B,CAAlB,CAAf,CAiCA,GAAMC,CAAAA,eAAe,CAAC,QAAhBA,CAAAA,eAAgB,CAAAnC,KAAK,QAAG,CAC5BoC,OAAO,CAACpC,KAAK,CAACoC,OAAN,CAAcC,KADM,CAE5BxB,KAAK,CAACb,KAAK,CAACa,KAFgB,CAAH,EAA3B,CAKA,cAAelB,CAAAA,OAAO,CAACwC,eAAD,CAAkB,CAACvC,SAAS,CAATA,SAAD,CAAYC,YAAY,CAAZA,YAAZ,CAA0BC,WAAW,CAAXA,WAA1B,CAAlB,CAAP,CAAkEC,IAAlE,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { StyleSheet, View, TextInput, Button, Text } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { addReview, fetchReviews } from '../../actions/reviewsActions';\r\nimport { clearErrors } from '../../actions/errorActions';\r\n\r\nclass Form extends Component {\r\n\r\n  state = {\r\n    name:\"\",\r\n    review:\"\",\r\n    msg:null\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    const {error} = this.props;\r\n    if(error !== prevProps.error){\r\n      if(error.id ==='ERROR_REVIEW'){\r\n        this.setState({msg:this.props.error.msg.msg})\r\n      }else{\r\n        this.setState({msg:null})\r\n      }\r\n    }\r\n  }\r\n\r\n  onTextChange = (name) => (value) => {\r\n    this.setState({ [name]: value });\r\n    // console.log(this.state.name)\r\n  };\r\n  onPress = () => {\r\n    const newreview = {\r\n      name:this.state.name,\r\n      review:this.state.review,\r\n    };\r\n    console.log(newreview)\r\n    this.setState({\r\n      name:\"\",\r\n      review:\"\"\r\n    })\r\n    // this.props.reviews.unshift(newreview)\r\n    this.props.addReview(newreview) \r\n    this.props.clearErrors()\r\n    // this.props.fetchReviews()\r\n  }\r\n    render(){\r\n        return (\r\n            <View style={styles.form}>\r\n              <Text style={styles.err}>{this.state.msg}</Text>\r\n                <TextInput\r\n                    style={styles.input}\r\n                    placeholder='Name'\r\n                    onChangeText={this.onTextChange(\"name\")}\r\n                    value={this.state.name}\r\n                    // name=\"rname\"\r\n                />\r\n                <TextInput\r\n                    style={styles.input}\r\n                    placeholder='Review (eg. Awesome 5/5)'\r\n                    onChangeText={this.onTextChange(\"review\")}\r\n                    value={this.state.review}\r\n                    // name=\"review\"\r\n                />\r\n                <View style={styles.btn}>\r\n                <Button\r\n                    onPress={this.onPress}\r\n                    title='Add Review'\r\n                    color='coral'\r\n                />\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  form: {\r\n    width: \"100%\",\r\n    height: 150,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"#FFECF9\",\r\n    // marginBottom: 2\r\n  },\r\n  input: {\r\n    width: '70%',\r\n    height: 38,\r\n    padding: 5,\r\n    borderBottomWidth: 1.5,\r\n    borderBottomColor: \"#ddd\",\r\n    marginBottom: 5\r\n  },\r\n  btn: {\r\n    width: \"70%\",\r\n    height: 35,\r\n    marginBottom: 15,\r\n    marginTop: 5,\r\n    // padding: 2,\r\n  },\r\n  err: {\r\n    // padding: 5,\r\n    marginTop: 8,\r\n    fontSize: 15,\r\n    color: 'red',\r\n    fontWeight: 'bold',\r\n  }\r\n});\r\n\r\nconst mapStateToProps=state=>({\r\n  reviews:state.reviews.items,\r\n  error:state.error\r\n});\r\n\r\nexport default connect(mapStateToProps, {addReview, fetchReviews, clearErrors} )(Form);\r\n// export default Form;\r\n"]},"metadata":{},"sourceType":"module"}